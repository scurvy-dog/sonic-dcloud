name: c8201-sonic-3-node

mgmt:
  #network: fixedips
  network: mgt_net
  ipv4_subnet: 192.168.122.0/24
  ipv6_subnet: 2001:172:10:10::/80

topology:
  kinds:
    linux:
      image: c8000-clab-sonic:29
      binds: 
          - /home/cisco/images:/images
      env:
          IMAGE: /images/sonic-cisco-8000-clab.bin
          PID: '8201-32FH'

  nodes:
    spine01:
      kind: linux
      mgmt_ipv4: 192.168.122.2
      mgmt_ipv6: 2001:172:10:10::2

    spine02:
      kind: linux
      mgmt_ipv4: 192.168.122.3
      mgmt_ipv6: 2001:172:10:10::3

    leaf01:
      kind: linux
      wait-for:
        - spine01
      mgmt_ipv4: 192.168.122.4
      mgmt_ipv6: 2001:172:10:10::4

    leaf01e32-host1:
      kind: bridge

  links:
    - endpoints: ["spine01:eth1", "leaf01:eth1"]
    - endpoints: ["spine01:eth2", "leaf01:eth2"]

    - endpoints: ["spine02:eth1", "leaf01:eth3"]
    - endpoints: ["spine02:eth2", "leaf01:eth4"]

    - endpoints: ["spine01:eth3", "host:spine01-eth3"]
    - endpoints: ["spine01:eth4", "host:spine01-eth4"]

    - endpoints: ["spine02:eth3", "host:spine02-eth3"]
    - endpoints: ["spine02:eth4", "host:spine02-eth4"]

    - endpoints: ["leaf01:eth5", "leaf01e32-host1:leaf01eth5"]

