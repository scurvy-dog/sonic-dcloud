simulation:
    wait_for_interfaces: True

devices:

  leaf-1:
    platform: spitfire_f
    os_type: sonic
    image: /home/cisco/images/onie-recovery-x86_64-cisco_8000-r0.iso
    onie-install: /home/cisco/images/vxr-sonic-cisco-8000.bin
    memory: "20GB"
    linecard_types: ['8101-32H']
    num_fabcards: 1
    console_ports: [60101,61101]
    linux_username: cisco
    linux_password: cisco123
    custom_mgmt_inf: True
    # after booting onie, we will download sonic image via eth4
    mgmt_gateway_ip: 172.10.10.201
    vxr_sim_config:
      shelf:
        ConfigS1SdkVer: '1.57.11.41'
        ConfigS1NpsuiteVer: '1.105.0'
    linux_config: |
        ip addr add dev eth4 192.168.124.101/24
        ip link set dev eth4 up
    cli_commands: |
        sudo config interface ip add eth0 172.10.10.101/255.255.255.0 172.10.10.1
        sudo config save -y
    data_ports:
    - eth1
    - eth2
    - eth3
    - eth4
    - eth5
    - eth6
    - eth7
    - eth8
    - eth9
    - eth10
    - eth11
    - eth12
    - eth13
    - eth14
    - eth15
    - eth16
    - eth17
    - eth18
    - eth19
    - eth20
    - eth21
    - eth22
    - eth23
    - eth24
    - eth25
    - eth26
    - eth27
    - eth28
    - eth29
    - eth30
    - eth31
    - eth32

# leaf-2

  leaf-2:
    platform: spitfire_f
    os_type: sonic
    image: /home/cisco/images/onie-recovery-x86_64-cisco_8000-r0.iso
    onie-install: /home/cisco/images/vxr-sonic-cisco-8000.bin
    memory: "20GB"
    linecard_types: ['8101-32H']
    num_fabcards: 1
    console_ports: [60102,61102]
    linux_username: cisco
    linux_password: cisco123
    custom_mgmt_inf: True
    # after booting onie, we will download sonic image via eth4
    mgmt_gateway_ip: 172.10.10.201
    vxr_sim_config:
      shelf:
        ConfigS1SdkVer: '1.57.11.41'
        ConfigS1NpsuiteVer: '1.105.0'
    linux_config: |
        ip addr add dev eth4 192.168.124.102/24
        ip link set dev eth4 up
    cli_commands: |
        sudo config interface ip add eth0 172.10.10.102/255.255.255.0 172.10.10.1
        sudo config save -y
    data_ports:
    - eth1
    - eth2
    - eth3
    - eth4
    - eth5
    - eth6
    - eth7
    - eth8
    - eth9
    - eth10
    - eth11
    - eth12
    - eth13
    - eth14
    - eth15
    - eth16
    - eth17
    - eth18
    - eth19
    - eth20
    - eth21
    - eth22
    - eth23
    - eth24
    - eth25
    - eth26
    - eth27
    - eth28
    - eth29
    - eth30
    - eth31
    - eth32

# spine-1

  spine-1:
    platform: spitfire_f
    os_type: sonic
    image: /home/cisco/images/onie-recovery-x86_64-cisco_8000-r0.iso
    onie-install: /home/cisco/images/vxr-sonic-cisco-8000.bin
    memory: "20GB"
    linecard_types: ['8101-32H']
    num_fabcards: 1
    console_ports: [60103,61103]
    linux_username: cisco
    linux_password: cisco123
    custom_mgmt_inf: True
    # after booting onie, we will download sonic image via eth4
    mgmt_gateway_ip: 172.10.10.201
    vxr_sim_config:
      shelf:
        ConfigS1SdkVer: '1.57.11.41'
        ConfigS1NpsuiteVer: '1.105.0'
    linux_config: |
        ip addr add dev eth4 192.168.124.103/24
        ip link set dev eth4 up
    cli_commands: |
        sudo config interface ip add eth0 172.10.10.103/255.255.255.0 172.10.10.1
        sudo config save -y
    data_ports:
    - eth1
    - eth2
    - eth3
    - eth4
    - eth5
    - eth6
    - eth7
    - eth8
    - eth9
    - eth10
    - eth11
    - eth12
    - eth13
    - eth14
    - eth15
    - eth16
    - eth17
    - eth18
    - eth19
    - eth20
    - eth21
    - eth22
    - eth23
    - eth24
    - eth25
    - eth26
    - eth27
    - eth28
    - eth29
    - eth30
    - eth31
    - eth32

# spine-2

  spine-2:
    platform: spitfire_f
    os_type: sonic
    image: /home/cisco/images/onie-recovery-x86_64-cisco_8000-r0.iso
    onie-install: /home/cisco/images/vxr-sonic-cisco-8000.bin
    memory: "20GB"
    linecard_types: ['8101-32H']
    num_fabcards: 1
    console_ports: [60104,61104]
    linux_username: cisco
    linux_password: cisco123
    custom_mgmt_inf: True
    mgmt_gateway_ip: 172.10.10.201
    vxr_sim_config:
      shelf:
        ConfigS1SdkVer: '1.57.11.41'
        ConfigS1NpsuiteVer: '1.105.0'
    linux_config: |
        ip addr add dev eth4 192.168.124.104/24
        ip link set dev eth4 up
    cli_commands: |
        sudo config interface ip add eth0 172.10.10.104/255.255.255.0 172.10.10.1
        sudo config save -y
    data_ports:
    - eth1
    - eth2
    - eth3
    - eth4
    - eth5
    - eth6
    - eth7
    - eth8
    - eth9
    - eth10
    - eth11
    - eth12
    - eth13
    - eth14
    - eth15
    - eth16
    - eth17
    - eth18
    - eth19
    - eth20
    - eth21
    - eth22
    - eth23
    - eth24
    - eth25
    - eth26
    - eth27
    - eth28
    - eth29
    - eth30
    - eth31
    - eth32

connections:
    custom:
        mgmt:
            ports: [leaf-1.eth0,leaf-2.eth0,spine-1.eth0,spine-2.eth0]
            #ovs_bridge: mgmt_br
            linux_bridge: sonic_mgt_br
            connection_type: tap   

        eth1:
            ports: [leaf-1.eth1]
            ovs_bridge: br-Port0   
        eth2:
            ports: [spine-1.eth1]
            ovs_bridge: br-Port0

        eth3:
            ports: [leaf-1.eth2]
            ovs_bridge: br-Port1
        eth4:
            ports: [spine-1.eth2]
            ovs_bridge: br-Port1
        
        eth5:
            ports: [leaf-2.eth1]
            ovs_bridge: br-Port2
        eth6:
            ports: [spine-2.eth1]
            ovs_bridge: br-Port2
        
        eth7:
            ports: [leaf-2.eth2]
            ovs_bridge: br-Port3
        eth8:
            ports: [spine-2.eth2]
            ovs_bridge: br-Port3

        eth9:
            ports: [leaf-1.eth3]
            ovs_bridge: br-Port4
        eth10:
            ports: [spine-2.eth3]
            ovs_bridge: br-Port4
        
        eth11:
            ports: [leaf-1.eth4]
            ovs_bridge: br-Port5
        eth12:
            ports: [spine-2.eth4]
            ovs_bridge: br-Port5

        eth13:
            ports: [leaf-2.eth3]
            ovs_bridge: br-Port6
        eth14:
            ports: [spine-1.eth3]
            ovs_bridge: br-Port6
        
        eth15:
            ports: [leaf-2.eth4]
            ovs_bridge: br-Port7
        eth16:
            ports: [spine-1.eth4]
            ovs_bridge: br-Port7